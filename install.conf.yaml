- defaults:
    link:
      create: true
      relink: true
      force: true

- clean:
    "$XDG_CONFIG_HOME":
      recursive: true
    "$XDG_CACHE_HOME":
      recursive: true
    "$XDG_DATA_HOME":
      recursive: true
    "$XDG_STATE_HOME":
      recursive: true

- create:
  - "$XDG_CONFIG_HOME"
  - "$XDG_CACHE_HOME"
  - "$XDG_DATA_HOME"
  - "$XDG_STATE_HOME"

- shell:
  - chmod 700 $XDG_CONFIG_HOME
  - chmod 700 $XDG_CACHE_HOME
  - chmod 700 $XDG_DATA_HOME
  - chmod 700 $XDG_STATE_HOME

- link:
    "$XDG_DATA_HOME/zinit": zinit #zinit
    "$XDG_CONFIG_HOME/vim/vimrc": vim/vimrc #vim
    "$XDG_CONFIG_HOME/zsh/.zshrc": zsh/zshrc #zsh
    "$XDG_CONFIG_HOME/p10k/p10k.zsh": p10k/p10k.zsh #p10k
    "$HOME/.zshenv": zsh/zshenv #zsh

- shell:
  - test -f "$XDG_CONFIG_HOME/zsh/.zshdiff" || touch "$XDG_CONFIG_HOME/zsh/.zshdiff"
